# Comparing `tmp/k1lib-1.3.7.8-py3-none-any.whl.zip` & `tmp/k1lib-1.3.7.9-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,8 +1,8 @@
-Zip file size: 2534614 bytes, number of entries: 84
+Zip file size: 2534659 bytes, number of entries: 84
 -rw-rw-r--  2.0 unx     1435 b- defN 23-Feb-08 00:13 k1lib/__init__.py
 -rw-rw-r--  2.0 unx    53793 b- defN 23-Apr-02 08:25 k1lib/_baseClasses.py
 -rw-rw-r--  2.0 unx    13494 b- defN 23-May-05 13:41 k1lib/_basics.py
 -rw-rw-r--  2.0 unx     4908 b- defN 23-May-08 18:53 k1lib/_context.py
 -rw-rw-r--  2.0 unx     2866 b- defN 22-Jul-20 04:30 k1lib/_higher.py
 -rw-rw-r--  2.0 unx      948 b- defN 22-Sep-21 23:54 k1lib/_k1a.py
 -rw-rw-r--  2.0 unx    11646 b- defN 23-Jan-14 15:37 k1lib/_learner.py
@@ -43,27 +43,27 @@
 -rw-rw-r--  2.0 unx     3465 b- defN 22-Nov-27 08:16 k1lib/callbacks/lossFunctions/shorts.py
 -rw-rw-r--  2.0 unx       45 b- defN 21-Aug-11 18:19 k1lib/callbacks/profilers/__init__.py
 -rw-rw-r--  2.0 unx     5054 b- defN 22-May-15 09:01 k1lib/callbacks/profilers/computation.py
 -rw-rw-r--  2.0 unx     2319 b- defN 22-May-15 08:59 k1lib/callbacks/profilers/io.py
 -rw-rw-r--  2.0 unx     4419 b- defN 22-May-15 09:00 k1lib/callbacks/profilers/memory.py
 -rw-rw-r--  2.0 unx     4215 b- defN 22-May-15 09:03 k1lib/callbacks/profilers/time.py
 -rw-rw-r--  2.0 unx      925 b- defN 22-Nov-16 09:22 k1lib/cli/__init__.py
--rw-rw-r--  2.0 unx     5922 b- defN 23-May-11 19:08 k1lib/cli/_applyCl.py
+-rw-rw-r--  2.0 unx     6056 b- defN 23-May-11 19:50 k1lib/cli/_applyCl.py
 -rw-rw-r--  2.0 unx     8308 b- defN 22-Nov-27 07:16 k1lib/cli/bio.py
 -rw-rw-r--  2.0 unx     4033 b- defN 23-Jan-25 02:02 k1lib/cli/cif.py
 -rw-rw-r--  2.0 unx    18911 b- defN 23-May-05 13:24 k1lib/cli/conv.py
 -rw-rw-r--  2.0 unx    24092 b- defN 23-May-10 23:07 k1lib/cli/filt.py
 -rw-rw-r--  2.0 unx     6672 b- defN 23-Jan-25 02:02 k1lib/cli/gb.py
 -rw-rw-r--  2.0 unx     6348 b- defN 23-Apr-05 15:10 k1lib/cli/grep.py
 -rw-rw-r--  2.0 unx    18312 b- defN 23-May-02 14:44 k1lib/cli/init.py
 -rw-rw-r--  2.0 unx    21754 b- defN 23-May-09 22:55 k1lib/cli/inp.py
 -rw-rw-r--  2.0 unx      623 b- defN 22-Jun-22 10:43 k1lib/cli/kcsv.py
 -rw-rw-r--  2.0 unx     4819 b- defN 22-Aug-11 20:44 k1lib/cli/kxml.py
 -rw-rw-r--  2.0 unx     1915 b- defN 21-Nov-12 16:48 k1lib/cli/mgi.py
--rw-rw-r--  2.0 unx    53855 b- defN 23-May-11 18:48 k1lib/cli/modifier.py
+-rw-rw-r--  2.0 unx    53907 b- defN 23-May-11 19:14 k1lib/cli/modifier.py
 -rw-rw-r--  2.0 unx      694 b- defN 22-Nov-27 07:17 k1lib/cli/mol.py
 -rw-rw-r--  2.0 unx     4038 b- defN 23-May-09 15:53 k1lib/cli/nb.py
 -rw-rw-r--  2.0 unx     3530 b- defN 22-Aug-16 15:08 k1lib/cli/optimizations.py
 -rw-rw-r--  2.0 unx    11559 b- defN 23-Apr-25 00:01 k1lib/cli/output.py
 -rw-rw-r--  2.0 unx     2394 b- defN 23-Jan-25 02:03 k1lib/cli/sam.py
 -rw-rw-r--  2.0 unx    49930 b- defN 23-May-11 15:29 k1lib/cli/structural.py
 -rw-rw-r--  2.0 unx    10399 b- defN 22-Aug-05 01:15 k1lib/cli/trace.py
@@ -71,16 +71,16 @@
 -rw-rw-r--  2.0 unx    20345 b- defN 23-Apr-26 17:09 k1lib/cli/utils.py
 -rw-rw-r--  2.0 unx       20 b- defN 23-Jan-19 22:00 k1lib/k1ui/__init__.py
 -rw-rw-r--  2.0 unx    61803 b- defN 23-Feb-10 12:10 k1lib/k1ui/main.py
 -rw-rw-r--  2.0 unx       20 b- defN 22-Sep-16 01:12 k1lib/serve/__init__.py
 -rw-rw-r--  2.0 unx    10361 b- defN 23-May-05 16:49 k1lib/serve/main.py
 -rw-rw-r--  2.0 unx      153 b- defN 23-May-05 16:00 k1lib/serve/suffix-dash.py
 -rw-rw-r--  2.0 unx      642 b- defN 23-Feb-13 19:00 k1lib/serve/suffix.py
--rw-rw-r--  2.0 unx  2453826 b- defN 23-Jan-19 22:50 k1lib-1.3.7.8.data/data/k1lib/k1ui/256.model.state_dict.pth
--rw-rw-r--  2.0 unx   304735 b- defN 23-Jan-17 19:16 k1lib-1.3.7.8.data/data/k1lib/k1ui/mouseKey.pth
--rw-rw-r--  2.0 unx    20544 b- defN 23-Mar-19 11:14 k1lib-1.3.7.8.data/data/k1lib/serve/main.html
--rw-rw-r--  2.0 unx     1049 b- defN 23-May-11 19:09 k1lib-1.3.7.8.dist-info/LICENSE
--rw-rw-r--  2.0 unx     3864 b- defN 23-May-11 19:09 k1lib-1.3.7.8.dist-info/METADATA
--rw-rw-r--  2.0 unx       92 b- defN 23-May-11 19:09 k1lib-1.3.7.8.dist-info/WHEEL
--rw-rw-r--  2.0 unx        6 b- defN 23-May-11 19:09 k1lib-1.3.7.8.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     6703 b- defN 23-May-11 19:09 k1lib-1.3.7.8.dist-info/RECORD
-84 files, 3488026 bytes uncompressed, 2524274 bytes compressed:  27.6%
+-rw-rw-r--  2.0 unx  2453826 b- defN 23-Jan-19 22:50 k1lib-1.3.7.9.data/data/k1lib/k1ui/256.model.state_dict.pth
+-rw-rw-r--  2.0 unx   304735 b- defN 23-Jan-17 19:16 k1lib-1.3.7.9.data/data/k1lib/k1ui/mouseKey.pth
+-rw-rw-r--  2.0 unx    20544 b- defN 23-Mar-19 11:14 k1lib-1.3.7.9.data/data/k1lib/serve/main.html
+-rw-rw-r--  2.0 unx     1049 b- defN 23-May-11 19:51 k1lib-1.3.7.9.dist-info/LICENSE
+-rw-rw-r--  2.0 unx     3864 b- defN 23-May-11 19:51 k1lib-1.3.7.9.dist-info/METADATA
+-rw-rw-r--  2.0 unx       92 b- defN 23-May-11 19:51 k1lib-1.3.7.9.dist-info/WHEEL
+-rw-rw-r--  2.0 unx        6 b- defN 23-May-11 19:51 k1lib-1.3.7.9.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     6703 b- defN 23-May-11 19:51 k1lib-1.3.7.9.dist-info/RECORD
+84 files, 3488212 bytes uncompressed, 2524319 bytes compressed:  27.6%
```

## zipnote {}

```diff
@@ -222,32 +222,32 @@
 
 Filename: k1lib/serve/suffix-dash.py
 Comment: 
 
 Filename: k1lib/serve/suffix.py
 Comment: 
 
-Filename: k1lib-1.3.7.8.data/data/k1lib/k1ui/256.model.state_dict.pth
+Filename: k1lib-1.3.7.9.data/data/k1lib/k1ui/256.model.state_dict.pth
 Comment: 
 
-Filename: k1lib-1.3.7.8.data/data/k1lib/k1ui/mouseKey.pth
+Filename: k1lib-1.3.7.9.data/data/k1lib/k1ui/mouseKey.pth
 Comment: 
 
-Filename: k1lib-1.3.7.8.data/data/k1lib/serve/main.html
+Filename: k1lib-1.3.7.9.data/data/k1lib/serve/main.html
 Comment: 
 
-Filename: k1lib-1.3.7.8.dist-info/LICENSE
+Filename: k1lib-1.3.7.9.dist-info/LICENSE
 Comment: 
 
-Filename: k1lib-1.3.7.8.dist-info/METADATA
+Filename: k1lib-1.3.7.9.dist-info/METADATA
 Comment: 
 
-Filename: k1lib-1.3.7.8.dist-info/WHEEL
+Filename: k1lib-1.3.7.9.dist-info/WHEEL
 Comment: 
 
-Filename: k1lib-1.3.7.8.dist-info/top_level.txt
+Filename: k1lib-1.3.7.9.dist-info/top_level.txt
 Comment: 
 
-Filename: k1lib-1.3.7.8.dist-info/RECORD
+Filename: k1lib-1.3.7.9.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## k1lib/cli/_applyCl.py

```diff
@@ -77,19 +77,21 @@
             if i == 9: raise Exception(f"Can't get file chunk")
             continue
         if res.status_code != 206: raise NoPartialContent("Server doesn't allow partial downloads at this particular url")
         return res.content
 def getChunks(url:str, sB:int, eB:int, chunkSize=None, chunkTimeout:float=10) -> List[bytes]:
     """Grabs bytes from sB to eB in chunks"""
     chunkSize = chunkSize or settings.cli.cat.chunkSize
-    return range(sB, eB+1) | batched(10, True) | apply(lambda r: getChunk(url, r.start, r.stop-1, chunkTimeout))
+    return range(sB, eB+1) | batched(chunkSize, True) | apply(lambda r: getChunk(url, r.start, r.stop-1, chunkTimeout))
 def download(url:str, folder:str, merge:bool=False, timeout=120, chunkTimeout=5):
     getChunk(url, 0, 1, 10) # try to see if server accepts partial downloads first
+    folder = os.path.expanduser(folder); dirname = os.path.dirname(folder)
     if merge: destFile = folder; folder = b"" | file(); None | cmd(f"rm -rf {folder}") | ignore(); None | cmd(f"mkdir -p {folder}") | ignore()
     applyCl.cmd(f"rm -rf {folder}"); applyCl.cmd(f"mkdir -p {folder}"); size = getSize(url)
     cpus = None | applyCl.aS(lambda: applyCl.cpu()) | deref(); n = cpus | cut(1) | toSum()
     tasks = [cpus | ~apply(lambda x,y: [x]*y) | joinStreams(), range(size) | splitW(*[1]*n)] | transpose() | insertIdColumn(True, False) | ~apply(lambda x,y,z: [x,[y,f"{folder}/{z}.bin"]]) | deref(1)
     tasks | ~applyCl(lambda r, fn: getChunks(url, r.start, r.stop-1, None, chunkTimeout) | file(fn), pre=True, timeout=timeout) | deref()
     if merge:
         None | cmd(f"rm -rf {destFile}") | deref()
+        None | cmd(f"mkdir -p {dirname}") | deref()
         None | applyCl.aS(lambda: ls(folder)) | ungroup(True, True) | deref() | sortF(op().split(".bin")[0].split("/")[-1].ab_int(), 1) | applyCl(cat(text=False), pre=True) | cut(1) | file(destFile)
         None | cmd(f"rm -rf {folder}") | deref()
```

## k1lib/cli/modifier.py

```diff
@@ -664,23 +664,25 @@
 more files, just dump it to any node (or download distributed across all nodes),
 then rebalance the folders and do your analysis.
 
 :param folder: folder to rebalance all of the files
 :param audit: if True, don't actually move files around and just return what files are going to be moved where"""
         from k1lib.cli._applyCl import balance
         balance(folder)
-    def download(url:str, folder:str, merge:bool=True, timeout=120, chunkTimeout=5):
+    def download(url:str, folder:str, merge:bool=False, timeout=120, chunkTimeout=5):
         """Downloads a file distributedly to a specified folder.
 Example::
 
-    url = "https://en.wikipedia.org/wiki/CTCF"
+    url = "https://vim.kelvinho.org"
     fn = "~/repos/labs/k1lib/k1lib/cli/test/applyCl.download" # file/folder name
     applyCl.download(url, fn)       # will download distributedly and dump file fragments into the folder fn
     applyCl.download(url, fn, True) # same as above, but collects all fragments together, places it in fn in the current node, then deletes the temporary file fragments
 
+This only works if the server allows partial downloads btw.
+
 :param url: url to download
 :param folder: which folder to download parts into
 :param merge: whether to merge all of the fragments together into a single file in the current node or not
 :param timeout: timeout for each process
 :param chunkTimeout: timeout for each file chunk inside each process"""
         from k1lib.cli._applyCl import download
         download(url, folder, merge, timeout, chunkTimeout)
```

## Comparing `k1lib-1.3.7.8.data/data/k1lib/k1ui/256.model.state_dict.pth` & `k1lib-1.3.7.9.data/data/k1lib/k1ui/256.model.state_dict.pth`

 * *Files identical despite different names*

## Comparing `k1lib-1.3.7.8.data/data/k1lib/k1ui/mouseKey.pth` & `k1lib-1.3.7.9.data/data/k1lib/k1ui/mouseKey.pth`

 * *Files identical despite different names*

## Comparing `k1lib-1.3.7.8.data/data/k1lib/serve/main.html` & `k1lib-1.3.7.9.data/data/k1lib/serve/main.html`

 * *Files identical despite different names*

## Comparing `k1lib-1.3.7.8.dist-info/LICENSE` & `k1lib-1.3.7.9.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `k1lib-1.3.7.8.dist-info/METADATA` & `k1lib-1.3.7.9.dist-info/METADATA`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: k1lib
-Version: 1.3.7.8
+Version: 1.3.7.9
 Summary: Some nice ML overhaul
 Home-page: https://k1lib.com
 Author: Quang Ho
 Author-email: 157239q@gmail.com
 License: MIT
 Requires-Python: >=3.7
 Description-Content-Type: text/markdown
```

## Comparing `k1lib-1.3.7.8.dist-info/RECORD` & `k1lib-1.3.7.9.dist-info/RECORD`

 * *Files 4% similar despite different names*

```diff
@@ -42,27 +42,27 @@
 k1lib/callbacks/lossFunctions/shorts.py,sha256=wXeUSgGDIdu_nsiAvn4pKs3fQrcO2FwpNXKcBCFvGzY,3465
 k1lib/callbacks/profilers/__init__.py,sha256=Gp5IvLRABYAg1J0ilTT2v72gfDbyTvUUHUEpvlSo1Lc,45
 k1lib/callbacks/profilers/computation.py,sha256=gPNsoioghh4PI5w8s2p8qYOrR7XObslqCLH5EkNOPSI,5054
 k1lib/callbacks/profilers/io.py,sha256=H8E0YzmLWRD9T2_RyDG2eXvbQQnJgzEnEyx8PqfQ4wY,2319
 k1lib/callbacks/profilers/memory.py,sha256=L0F5pc5LB0dtSnRot8ReR-amZn1uIXv0py0XmGS166U,4419
 k1lib/callbacks/profilers/time.py,sha256=R2-2ZooDwLQIeyonLp2Zz5E_uXzdy6mWUgw6uavQbpE,4215
 k1lib/cli/__init__.py,sha256=hF0ODhL20OSM9o1j68VhcIVflibgSpPuqeyYlsh8oow,925
-k1lib/cli/_applyCl.py,sha256=EnQi4v1cPZlrrZRA0HsDxuKcH7zJvMA-MZ8iME9WACk,5922
+k1lib/cli/_applyCl.py,sha256=szbkJRbSd5eqEhdjgyUMRqK2iZSXZheTXNjDQ0CCfQY,6056
 k1lib/cli/bio.py,sha256=PhGvy-fDA-wrUzzEDpuRe4x-Kbylx0sNmoXCEZfE_FA,8308
 k1lib/cli/cif.py,sha256=77FX83m1FRYEeZkdXJ8MiVapqCSzZ-1xOQ8ZLeHfhf8,4033
 k1lib/cli/conv.py,sha256=EIaZPZ4oCG2mr7Y-Esa1TjV2PnmrUCRWNjJSS7ZEYn4,18911
 k1lib/cli/filt.py,sha256=VJ5Jfep6KFvVeYQm6n8czsy7TEsNIoE3zeUtKAYNIRs,24092
 k1lib/cli/gb.py,sha256=xxjuNYgWrrElRckon3gP0sj-dShYnKs3jmHAb1U0kVI,6672
 k1lib/cli/grep.py,sha256=Lu4PFOe2pkaqd-UfJe_HhHCUFTUifE6Bh96_k80sQDA,6348
 k1lib/cli/init.py,sha256=jtOLSw3PR_0VIepOzK5cDmeAea4WmDNa3jy6WIM6qV4,18312
 k1lib/cli/inp.py,sha256=ZllbDCi-tmwbiPVLPYrg55kN3mpc6IXPcvHe4B-0SvI,21754
 k1lib/cli/kcsv.py,sha256=YGUVVLTZGGujokhxtj5MfjU9t1jRGqp23d58JK8lhq0,623
 k1lib/cli/kxml.py,sha256=YQGutvKNm0_xAi_NhCNtuGey7fx3zZSmSo33kS--54c,4819
 k1lib/cli/mgi.py,sha256=aLke90nG89tgWLPwyKmTj3kM8yJnIBCJSrPS1jT8mUk,1915
-k1lib/cli/modifier.py,sha256=NoKQ8-BNj-g9l_pgc7Co7ZopdO-eSl5ge9X2grYvk50,53855
+k1lib/cli/modifier.py,sha256=FUAvAOjiVXAmyOZlDZ6ikKZt8eoxVI7iOpb61tSfujc,53907
 k1lib/cli/mol.py,sha256=wNFuCPXtdEcH4DRBbmYaLAWxtDzjN2MOKFX7ynJhaJs,694
 k1lib/cli/nb.py,sha256=LsNN7OFJ6KzAYKvZpm4fj9WRpsX6Srx6D_xpSTCV328,4038
 k1lib/cli/optimizations.py,sha256=iZ73DwLqZCxRm0sECVZ7A2nDxf5D4rsoSGzrKTgzGaI,3530
 k1lib/cli/output.py,sha256=HQD61-Epy6WfteMHXW6SV14SiprXF55ELnfer2CWXEA,11559
 k1lib/cli/sam.py,sha256=_ersEPP2ue0Oa3AyftNjQu2PABpH4L7iFBbRJDOkeug,2394
 k1lib/cli/structural.py,sha256=4fa04Qe5Uoi7ZtKsQB1QGzkfkzkL6IsDsccOGOn-o3Q,49930
 k1lib/cli/trace.py,sha256=nzZgOyXqFJYkQfbpR0lpX0Nnp0bQHXPjk8sDUBIe2hk,10399
@@ -70,15 +70,15 @@
 k1lib/cli/utils.py,sha256=gaHYEw2_gjqNjOQFLUfa3JAXXwi6vZPCQqKwDuhrUDg,20345
 k1lib/k1ui/__init__.py,sha256=8D5a8oKgqd6WA1RUkiKCn4l_PVemtyuckxQut0vDHXM,20
 k1lib/k1ui/main.py,sha256=PnmdOhkjYgRSZnDyGYNMYtQ5Nvcb1NhQ9yjfP_3QORI,61803
 k1lib/serve/__init__.py,sha256=8D5a8oKgqd6WA1RUkiKCn4l_PVemtyuckxQut0vDHXM,20
 k1lib/serve/main.py,sha256=Xh2SzgABfsBp2dRLUJRMftsG_We8ReVHYqXLi3ntMVA,10361
 k1lib/serve/suffix-dash.py,sha256=HMNJvB4d-PTHXDRDQTdYUKtzgirJ0LVnqqAkXxO0B4w,153
 k1lib/serve/suffix.py,sha256=UH3ITN6O2vzoha2f6v4bcQG3_Boav7VA7EC8wf8r9f8,642
-k1lib-1.3.7.8.data/data/k1lib/k1ui/256.model.state_dict.pth,sha256=Ga-UXlAJfUPNOZsvP_c1-1cfB2Hp_-oQ4ghdouX1d7g,2453826
-k1lib-1.3.7.8.data/data/k1lib/k1ui/mouseKey.pth,sha256=KULhK_gdK2Ppju9gQnv1zV2kf_A0K-vX2W7trY6DIg8,304735
-k1lib-1.3.7.8.data/data/k1lib/serve/main.html,sha256=gHFNqzE9JKb4eCwCJN-Du45jj75lDRED4Ico91T-b4g,20544
-k1lib-1.3.7.8.dist-info/LICENSE,sha256=psuy2wnTg9zacuCQ0dXfxS44iaa89aTgsNzHDzx4UGM,1049
-k1lib-1.3.7.8.dist-info/METADATA,sha256=oKLNljud5gZSOqhztkb67H4Rcj8XR93d_WY1jGtBwoc,3864
-k1lib-1.3.7.8.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-k1lib-1.3.7.8.dist-info/top_level.txt,sha256=xxWmqZzuThnLZn49Mse6A6j41-IVduPVnQW54imcOTA,6
-k1lib-1.3.7.8.dist-info/RECORD,,
+k1lib-1.3.7.9.data/data/k1lib/k1ui/256.model.state_dict.pth,sha256=Ga-UXlAJfUPNOZsvP_c1-1cfB2Hp_-oQ4ghdouX1d7g,2453826
+k1lib-1.3.7.9.data/data/k1lib/k1ui/mouseKey.pth,sha256=KULhK_gdK2Ppju9gQnv1zV2kf_A0K-vX2W7trY6DIg8,304735
+k1lib-1.3.7.9.data/data/k1lib/serve/main.html,sha256=gHFNqzE9JKb4eCwCJN-Du45jj75lDRED4Ico91T-b4g,20544
+k1lib-1.3.7.9.dist-info/LICENSE,sha256=psuy2wnTg9zacuCQ0dXfxS44iaa89aTgsNzHDzx4UGM,1049
+k1lib-1.3.7.9.dist-info/METADATA,sha256=BKJ-MS9tlGBrC6iPR2y-iunkbEUwKkrBrN2GyeFh9uE,3864
+k1lib-1.3.7.9.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+k1lib-1.3.7.9.dist-info/top_level.txt,sha256=xxWmqZzuThnLZn49Mse6A6j41-IVduPVnQW54imcOTA,6
+k1lib-1.3.7.9.dist-info/RECORD,,
```

